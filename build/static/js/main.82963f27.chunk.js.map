{"version":3,"sources":["redux/inventory-reducer.js","redux/user-reducer.js","components/Header/HeaderUser.js","api/api.js","redux/app-reducer.js","panels/Home.js","panels/Base.js","img/persik.png","panels/Inventory.js","panels/Friends.js","panels/Action/ActionNavigator.js","panels/Action/Attack/AttackFriends.js","panels/Action/Attack/AttackOther.js","panels/Action/Attack/Attack.js","creator/DescriptionCreator.js","redux/auth-reducer.js","creator/TimerCreator.js","actionCalculation/launchRocket.js","panels/Action/Attack/AttackUserPage.js","components/Header/HeaderOther.js","assets/images/moneyBackground.jpg","assets/images/workerBackground.jpg","panels/PageView/CheckUserInfo.js","panels/PageView/PageView.js","components/modalWindow/modalDefenseInfo.js","panels/Action/Defense/DefenseHistory.js","panels/Action/Defense/DefenseSettings.js","panels/Action/Defense/Defense.js","App.js","text/Description.js","redux/time-reducer.js","redux/redux-store.js","index.js","panels/PageView/PageView.module.css"],"names":["CHANGE_MONEY","CHANGE_HOUSE","CHANGE_PEOPLE","CHANGE_ROCKET","CHANGE_FOOD","SET_INVENTORY","init","money","house","people","rocket","food","changeMoney","change","type","changeHouse","changePeople","changeRocket","changeFood","changeInventory","num","func","dispatch","setInventory","set","SET_FRIENDS","SET_USER","SET_ACTIVE_USER_PAGE","SET_UNSEEN_INFO","user","friends","activeUserPage","unseen","setActiveUserPage","id","setUnseenInfo","info","connect","state","myInventory","usersInfo","go","backButton","headerName","left","onClick","header","mode","before","photo_200","src","description","city","title","after","style","display","alignItems","color","width","height","first_name","last_name","DB_TIMER_START","DB_TIMER_TIME","firebaseAPI","listenUpdateUser","userId","listensFunc","firebase","database","ref","String","on","snapshot","val","updateUser","item","count","child","update","updateFullUser","obj","updateEntryTimeBD","time","updateTimerDB","timerName","updateUnseenDefendInfo","attackingUser","sendInfoDefend","rocketAttack","serverTime","getServerTime","offset","offsetVal","Date","now","timeAttack","attack","destroyed","updateClearUnseen","remove","getTimerDB","get","getUserInventory","getTimeUserBD","getUnseenInfo","SET_ACTIVE_PANEL","SET_ACTIVE_MODAL","MODAL_PAGE_DEFENSE_INFO","activePanel","activeModal","modalWindow","setActiveModal","active","e","currentTarget","dataset","to","modalGo","modal","stretched","size","PICTURE_NAME","Icon24DollarCircleOutline","Icon44SmileOutline","Icon24HomeOutline","Icon24SendOutline","Icon28MortarOutline","ImgSize","auth","inventory","inv","Object","keys","map","key","Pic","friendsGroup","u","entryFriendsProfile","photo_200_orig","caption","AttackFriends","AttackOther","useState","activeTabs","setActiveTabs","selected","DescriptionCreator","create","what","desc","SET_INIT_SUCCESS","SET_ACCESS_TOKEN","INIT_DATE","accessToken","a","name","repeat","consoleView","_time","oneTimer","entry","diff","GetServerTime","CreateTimerBD","TimerFunc","timer","setInterval","clearInterval","then","startTimer","timerTime","TimerCreator","launchRocket","countRocket","userIdTarget","inventoryTarget","startCountRocket","_countRocket","Rocket","defend","Number","console","log","inventoryProfile","rocketSend","setRocketSend","rocketRange","value","min","max","onChange","target","step","userPageInfo","find","CheckUserInfo","BackgroundName","MoneyBackground","WorkerBackground","roket","className","styles","card","alt","UserInfo","setUserInfo","useEffect","getUser","attackUser","toLocaleString","timeZone","attackRocket","textAlign","justifyContent","DefenseHistory","DefenseSettings","disabled","defaultChecked","APP_ID","appPage","setDbInventory","setFriends","setUser","setInitSuccess","getDbInventory","forEach","setAccessToken","token","getBdUnseenInfo","unseenInfo","props","setGiveGold","popout","setPopout","onClose","bridge","send","userInfo","access_token","userFriends","response","items","subscribe","detail","data","schemeAttribute","document","createAttribute","scheme","body","attributes","setNamedItem","fetchData","initTimer","DescriptionPanels","MoneyDesc","PeopleDesc","HouseDesc","rocketDesc","FoodDesc","DescPanelsBlocks","DescPanel","charAt","toLowerCase","slice","SET_ENTRY","SET_OLD_ENTRY","SET_TIMER","oldEntry","reducers","combineReducers","action","store","createStore","applyMiddleware","thunkMiddleware","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","analytics","rerenderEntireTree","ReactDOM","render","getElementById","getState","module","exports"],"mappings":"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","file":"static/js/main.82963f27.chunk.js","sourcesContent":["export const CHANGE_MONEY = \"INVENTORY/CHANGE_MONEY\"\r\nexport const CHANGE_HOUSE = \"INVENTORY/CHANGE_HOUSE\"\r\nexport const CHANGE_PEOPLE = \"INVENTORY/CHANGE_PEOPLE\"\r\nexport const CHANGE_ROCKET = \"INVENTORY/CHANGE_ROCKET\"\r\nexport const CHANGE_FOOD = \"INVENTORY/CHANGE_FOOD\"\r\nexport const SET_INVENTORY = \"INVENTORY/SET_INVENTORY\"\r\nlet init = {\r\n    money:0,\r\n    house:0,\r\n    people:0,\r\n    rocket:0,\r\n    food:0,\r\n};\r\n\r\nexport const inventoryReducer = (state = init, action) => {\r\n    switch (action.type) {\r\n        case CHANGE_MONEY:\r\n            return {\r\n                ...state,\r\n                money:state.money + action.change,\r\n            }\r\n        case CHANGE_HOUSE:\r\n            return {\r\n                ...state,\r\n                house:state.house + action.change,\r\n            }\r\n        case CHANGE_PEOPLE:\r\n            return {\r\n                ...state,\r\n                people:state.people + action.change,\r\n            }\r\n        case CHANGE_ROCKET:\r\n            return {\r\n                ...state,\r\n                rocket:state.rocket + action.change,\r\n            }\r\n        case CHANGE_FOOD:\r\n            return {\r\n                ...state,\r\n                food:state.food + action.change,\r\n            }\r\n        case SET_INVENTORY:\r\n            return action.setInventory\r\n        default:\r\n            return state\r\n    }\r\n};\r\n\r\nexport const changeMoney = (change) => {\r\n    return {\r\n        type: CHANGE_MONEY,\r\n        change,\r\n    };\r\n};\r\nexport const changeHouse = (change) => {\r\n    return {\r\n        type: CHANGE_HOUSE,\r\n        change,\r\n    };\r\n};\r\nexport const changePeople = (change) => {\r\n    return {\r\n        type: CHANGE_PEOPLE,\r\n        change,\r\n    };\r\n};\r\nexport const changeRocket = (change) => {\r\n    return {\r\n        type: CHANGE_ROCKET,\r\n        change,\r\n    };\r\n};\r\nexport const changeFood = (change) => {\r\n    return {\r\n        type: CHANGE_FOOD,\r\n        change,\r\n    };\r\n};\r\nexport const changeInventory = (type,num) => {\r\n    let func = \"\"\r\n    switch (type){\r\n        case CHANGE_MONEY:\r\n           func = changeMoney\r\n           break\r\n        case CHANGE_HOUSE:\r\n            func = changeHouse\r\n            break\r\n        case CHANGE_PEOPLE:\r\n            func = changePeople\r\n            break\r\n        case CHANGE_ROCKET:\r\n            func = changeRocket\r\n            break\r\n        case CHANGE_FOOD:\r\n            func = changeFood\r\n            break\r\n        default:\r\n            break \r\n    }\r\n    return (dispatch) => {\r\n        dispatch(func(num))\r\n    }\r\n}\r\n\r\nexport const setInventory = (set) => {\r\n    return {\r\n        type: SET_INVENTORY,\r\n        setInventory:set,\r\n    };\r\n};","const SET_FRIENDS = \"USERS/SET_FRIENDS\"\r\nconst SET_USER = \"USERS/SET_USER\"\r\nconst SET_ACTIVE_USER_PAGE = \"USERS/SET_ACTIVE_USER_PAGE\"\r\nconst SET_UNSEEN_INFO = \"USERS/SET_UNSEEN_INFO\"\r\nlet init = {\r\n    user:null,\r\n    friends:null,\r\n    activeUserPage:1,\r\n    unseen:null,\r\n};\r\n\r\nexport const userReducer = (state = init, action) => {\r\n    switch (action.type) {\r\n        case SET_FRIENDS:\r\n            return{\r\n                ...state,\r\n                friends:action.friends\r\n            }\r\n        case SET_USER:\r\n            return{\r\n                ...state,\r\n                user:action.user\r\n            }\r\n        case SET_ACTIVE_USER_PAGE:\r\n            return{\r\n                ...state,\r\n                activeUserPage:action.id\r\n            }\r\n        case SET_UNSEEN_INFO:\r\n            return{\r\n                ...state,\r\n                unseen:action.info\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n};\r\n\r\nexport const setFriends = (friends) => {\r\n    return {\r\n      type: SET_FRIENDS,\r\n      friends,\r\n    };\r\n};\r\n\r\nexport const setUser = (user) => {\r\n    return {\r\n      type:SET_USER,\r\n      user,\r\n    };\r\n};\r\n\r\nexport const setActiveUserPage = (id) => {\r\n    return {\r\n      type:SET_ACTIVE_USER_PAGE,\r\n      id,\r\n    };\r\n};\r\n\r\nexport const setUnseenInfo = (info) => {\r\n    return {\r\n      type:SET_UNSEEN_INFO,\r\n      info,\r\n    };\r\n};","import React from 'react';\r\nimport { Panel, PanelHeader, Header, Button, Group, Cell, Div, Avatar,PanelHeaderBack, InfoRow, SimpleCell, Card, CardGrid, Link } from '@vkontakte/vkui';\r\nimport { Icon24DollarCircleOutline } from '@vkontakte/icons';\r\nimport { connect } from 'react-redux';\r\nimport {changeInventory} from \"../../redux/inventory-reducer\"\r\nimport {setFriends} from \"../../redux/user-reducer\"\r\nimport {setUser} from \"../../redux/user-reducer\"\r\nconst HeaderUser = ({go,backButton,headerName,user,money}) =>{\r\n    return(\r\n            <>\r\n            {backButton ? \r\n            <PanelHeader\r\n                left={<PanelHeaderBack onClick={go} data-to={backButton}/>}\r\n            >\r\n                {headerName}\r\n            </PanelHeader>\r\n            :\r\n            <PanelHeader>\r\n                {headerName}\r\n            </PanelHeader>\r\n            }\r\n        \r\n            {user &&\r\n            <Group header={<Header mode=\"secondary\">Your profile</Header>}>\r\n                <Cell \r\n                    before={user.photo_200 ? <Avatar src={user.photo_200}/> : null}\r\n                    description={user.city && user.city.title ? user.city.title : ''}\r\n                    after={<div style={{display:'flex',alignItems:'center',color:'black'}}>{money}<Icon24DollarCircleOutline width={30} height={30}/></div>}\r\n                >\r\n                    {`${user.first_name} ${user.last_name}`}\r\n                </Cell>\r\n            </Group>}\r\n            </>\r\n        )\r\n} \r\n\r\nlet mapStateToProps = (state) => ({\r\n    money:state.myInventory.money,\r\n\tuser:state.usersInfo.user\r\n})\r\n\r\nexport default connect(mapStateToProps)(HeaderUser)","export const DB_USER_MONEY = \"money\";\r\nexport const DB_USER_ROCKET = \"rocket\";\r\nexport const DB_USER_HOUSE = \"house\";\r\nexport const DB_USER_PEOPLE = \"people\";\r\nexport const DB_USER_FOOD = \"food\";\r\n\r\nimport firebase from '../index';\r\n\r\n//updateTimerDB\r\nexport const DB_TIMER_START = \"startTimer\";\r\nexport const DB_TIMER_TIME = \"timerTime\";\r\n\r\nexport  const firebaseAPI = {\r\n    \r\n    listenUpdateUser(userId,listensFunc,){\r\n        firebase.database().ref(String(userId)).on('value',function(snapshot){\r\n            var val = snapshot.val();\r\n            listensFunc(val,userId)\r\n          });\r\n    },\r\n\r\n    //UPDATE\r\n    updateUser(userId,item,count){\r\n        firebase.database().ref(String(userId)).child(\"inventory\").update({[item]:count})\r\n    },\r\n    \r\n    updateFullUser(userId,obj){\r\n        firebase.database().ref(String(userId)).child(\"inventory\").update(obj);\r\n    },\r\n    updateEntryTimeBD(userId,time){\r\n        firebase.database().ref(String(userId)).child(\"time\").child(\"timer\").update({\"entry\":time});\r\n    },\r\n\r\n    updateTimerDB(userId,timerName,info,time){\r\n        firebase.database().ref(String(userId)).child(\"time\").child(\"timer\").child(timerName).update({[info]:time});\r\n    },\r\n    async updateUnseenDefendInfo({userId,attackingUser,sendInfoDefend,rocketAttack}){\r\n        let serverTime = 0\r\n        await firebaseAPI.getServerTime().on('value', function(offset) {\r\n            const offsetVal = offset.val() || 0;\r\n            serverTime = Date.now() + offsetVal;\r\n        });\r\n        firebase.database().ref(String(userId)).child(\"unseenInfo\").child(\"defend\").child(String(attackingUser)).update({timeAttack:serverTime,attack:rocketAttack,destroyed:sendInfoDefend});\r\n    },\r\n    updateClearUnseen(userId){\r\n        firebase.database().ref(String(userId)).child(\"unseenInfo\").child(\"defend\").remove();\r\n    },\r\n    //GET\r\n    getTimerDB(userId){\r\n        return firebase.database().ref(String(userId)).child(\"time\").child(\"timer\").get()\r\n    },\r\n    getServerTime(){\r\n        return firebase.database().ref(\"/.info/serverTimeOffset\")\r\n    },\r\n    getUserInventory(userId){\r\n       return firebase.database().ref(String(userId)).child(\"inventory\").get()\r\n    },\r\n    getTimeUserBD(userId){\r\n        return firebase.database().ref(String(userId)).child(\"time\").get()\r\n    },\r\n    getUnseenInfo(userId){\r\n        return firebase.database().ref(String(userId)).child(\"unseenInfo\").get()\r\n    },\r\n}\r\n","import { firebaseAPI, DB_USER_MONEY,DB_USER_ROCKET,DB_USER_HOUSE,DB_USER_PEOPLE,DB_USER_FOOD  } from \"../api/api\";\r\nimport { CHANGE_MONEY,CHANGE_HOUSE,CHANGE_PEOPLE,CHANGE_ROCKET } from './inventory-reducer';\r\nimport {changeInventory,setInventory} from \"./inventory-reducer\"\r\nimport { getUserId } from \"./user-reducer\";\r\nconst SET_ACTIVE_PANEL = \"APP/SET_ACTIVE_PANEL\"\r\nconst SET_ACTIVE_MODAL = \"APP/SET_ACTIVE_MODAL\"\r\n\r\nexport const MODAL_PAGE_DEFENSE_INFO = \"APP/MODAL_PAGE_DEFENSE_INFO\"\r\n\r\n\r\nlet init = {\r\n    activePanel:\"base\",\r\n    activeModal:null,\r\n    modalWindow:{}\r\n};\r\n\r\nexport const appReducer = (state = init, action) => {\r\n    switch (action.type) {\r\n        case SET_ACTIVE_PANEL:\r\n            return{\r\n                ...state,\r\n                activePanel:action.active,\r\n            }\r\n        case SET_ACTIVE_MODAL:\r\n            return{\r\n                ...state,\r\n                activeModal:action.active,\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n};\r\n\r\n\r\nexport const setActivePanel = (active) => {\r\n    return {\r\n        type:SET_ACTIVE_PANEL,\r\n        active,\r\n    };\r\n};\r\n\r\nexport const setActiveModal = (active) => {\r\n    return {\r\n        type:SET_ACTIVE_MODAL,\r\n        active,\r\n    }\r\n    \r\n}\r\n\r\nexport const go = e => (dispatch) => {\r\n    dispatch(setActivePanel(e.currentTarget.dataset.to))\r\n    \r\n};\r\n\r\nexport const modalGo = (modal,userId = null) => (dispatch) => {\r\n    if(modal == null){\r\n        dispatch(setActiveModal(null))\r\n        firebaseAPI.updateClearUnseen(userId)\r\n        return\r\n    }\r\n    dispatch(setActiveModal(modal))\r\n    \r\n}","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Panel, PanelHeader, Header, Button, Group, Cell, Div, Avatar } from '@vkontakte/vkui';\nimport HeaderUser from '../components/Header/HeaderUser';\nimport { connect } from 'react-redux';\nimport { go } from '../redux/app-reducer';\nconst Home = ({ id, go}) => {\n\treturn(\n\t\t<Panel id={id}>\n\t\t\t<HeaderUser headerName=\"Home\"/>\n\n\t\t\t<Group header={<Header mode=\"secondary\">Navigation</Header>}>\n\t\t\t\t<Div>\n\t\t\t\t\t<Button stretched size=\"l\" mode=\"secondary\" onClick={go} data-to=\"base\">\n\t\t\t\t\t\tBASE\n\t\t\t\t\t</Button>\n\t\t\t\t</Div>\n\t\t\t</Group>\n\t\t</Panel>\n\t)\n}\n\t\n\nHome.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n\tfetchedUser: PropTypes.shape({\n\t\tphoto_200: PropTypes.string,\n\t\tfirst_name: PropTypes.string,\n\t\tlast_name: PropTypes.string,\n\t\tcity: PropTypes.shape({\n\t\t\ttitle: PropTypes.string,\n\t\t}),\n\t}),\n};\nlet mapStateToProps = (state) => ({\n})\nexport default connect(mapStateToProps,{go})(Home)\n// export default Home;\n","import { Button, Div, Group, Header, ModalCard, Panel, Textarea } from '@vkontakte/vkui';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { MODAL_CARD_NOTIFICATIONS } from '../App';\r\nimport HeaderUser from '../components/Header/HeaderUser';\r\nimport { go, modalGo, MODAL_PAGE_DEFENSE_INFO } from '../redux/app-reducer';\r\nconst Base = ({ id, go, modalGo}) => {\r\n\treturn(\r\n\t\r\n\t<Panel id={id}>\r\n\t\t<HeaderUser go={go}  headerName=\"Base\" backButton=\"home\"/>\r\n\r\n\t\t<Group header={<Header mode=\"secondary\">Navigation</Header>}>\r\n\t\t\t<Div>\r\n\t\t\t\t<Button stretched size=\"l\"  onClick={go} data-to=\"inventory\" >\r\n\t\t\t\t\tInventory\r\n\t\t\t\t</Button>\r\n\t\t\t</Div>\r\n\t\t\t<Div>\r\n\t\t\t\t<Button stretched size=\"l\"  onClick={go} data-to=\"friends\">\r\n\t\t\t\t\tFriends\r\n\t\t\t\t</Button>\r\n\t\t\t</Div>\r\n\t\t\t<Div>\r\n\t\t\t\t<Button stretched size=\"l\"  onClick={go} data-to=\"actionNavigator\">\r\n\t\t\t\t\tAction\r\n\t\t\t\t</Button>\r\n\t\t\t</Div>\r\n\t\t</Group>\r\n\t</Panel>\r\n\t);\r\n}\r\n    \r\n\t\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n})\r\nexport default connect(mapStateToProps,{go,modalGo})(Base)","export default __webpack_public_path__ + \"static/media/persik.ae9f0072.png\";","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Panel, PanelHeader, Header, Button, Group, Cell, Div, Avatar,PanelHeaderBack, InfoRow, SimpleCell, Card, CardGrid, Link } from '@vkontakte/vkui';\r\nimport { Icon24DollarCircleOutline } from '@vkontakte/icons';\r\nimport { Icon44SmileOutline } from '@vkontakte/icons';\r\nimport { Icon24HomeOutline } from '@vkontakte/icons';\r\nimport { Icon24SendOutline } from '@vkontakte/icons';\r\nimport { Icon28MortarOutline } from '@vkontakte/icons';\r\nimport HeaderUser from '../components/Header/HeaderUser';\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { go } from '../redux/app-reducer';\r\n\r\n\r\nexport  const PICTURE_NAME = {\r\n    money:Icon24DollarCircleOutline,\r\n    people:Icon44SmileOutline,\r\n    house:Icon24HomeOutline,\r\n    rocket:Icon24SendOutline,\r\n    food:Icon28MortarOutline,\r\n}\r\n\r\nconst ImgSize = {\r\n    width:30,\r\n    height:30,\r\n}\r\n\r\nconst Inventory = ({ id, go,inventory }) => {\r\n    const inv = Object.keys(inventory).map(key =>{\r\n        const Pic = PICTURE_NAME[key]\r\n        return(\r\n            <Group key={key} onClick={go} data-to={key + \"Desc\"}>\r\n                <SimpleCell>\r\n                <Header mode=\"secondary\">{key}</Header>\r\n                <Div><div style={{display:'flex',alignItems:'center'}}>{inventory[key]}<Pic width={ImgSize.width} height={ImgSize.height}/></div>  </Div>\r\n                </SimpleCell>\r\n            </Group>\r\n        )    \r\n    })\r\n    return(          \r\n        \r\n        <Panel id={id}>\r\n            <HeaderUser go={go}  headerName=\"Inventory\" backButton=\"base\"/>\r\n            {inv}\r\n        </Panel>\r\n        );\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n\tinit:state.auth.init,\r\n    inventory:state.myInventory\r\n})\r\n\r\nexport default connect(mapStateToProps,{go})(Inventory)\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Panel, PanelHeader, Header, Button, Group, Cell, Div, Avatar,PanelHeaderBack, CardGrid, Card, RichCell } from '@vkontakte/vkui';\r\nimport { Icon24DollarCircleOutline } from '@vkontakte/icons';\r\nimport HeaderUser from '../components/Header/HeaderUser';\r\nimport { setActiveUserPage } from '../redux/user-reducer';\r\nimport { connect } from 'react-redux';\r\nimport { go } from '../redux/app-reducer';\r\nconst Friends = ({ id, go,friends,setActiveUserPage}) => {\t\r\n\tconst entryFriendsProfile = (e,id) => {\r\n\t\tsetActiveUserPage(id)\r\n\t\tgo(e)\r\n\t}\r\n\tconst friendsGroup\t= friends.map(u =>(\r\n\t\t<RichCell onClick={(e) => entryFriendsProfile(e,u.id)}\r\n\t\tdata-to=\"pageView\"\r\n\t\t\tkey={u.id}\r\n\t\t\tbefore={<Avatar size={48} src={u.photo_200_orig} />}\r\n\t\t\tcaption=\"offline\"\r\n\t\t\tafter={<div><span style={{display:'flex',alignItems:'center',color:'black'}}>{700}<Icon24DollarCircleOutline width={30} height={30}/></span></div>}\r\n\t\t\t>\r\n\t\t\t\t{u.first_name +\" \"+ u.last_name}\r\n\t\t</RichCell>\r\n\t))\r\n\t\r\n\t// <Card key={u.id}>{<img style={{width:\"100%\",height:\"200px\"}} src={}/>}</Card>)\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n    return(\r\n\t\t<Panel id={id}>\r\n\t\t\t\t<HeaderUser go={go} headerName=\"Friends\" backButton=\"base\"/>\r\n\r\n\t\t\t\t<Group header={<Header mode=\"secondary\">Your Friends</Header>}>\r\n\t\t\t\t\t\t{friendsGroup}\r\n\t\t\t\t</Group>\r\n\t\t\t</Panel>\r\n\t\t)\r\n}\r\nconst mapStateToProps  = (state) => ({\r\n\tfriends:state.usersInfo.friends,\r\n})\r\nexport default connect(mapStateToProps,{setActiveUserPage,go})(Friends)\r\n","import React from 'react';\r\nimport * as axios from \"axios\";\r\nimport { Panel, PanelHeader, Header, Button, Group, Cell, Div, Avatar,PanelHeaderBack } from '@vkontakte/vkui';\r\nimport { Icon24DollarCircleOutline } from '@vkontakte/icons';\r\nimport { changeInventory, CHANGE_MONEY,CHANGE_ROCKET } from '../../redux/inventory-reducer';\r\nimport HeaderUser from '../../components/Header/HeaderUser';\r\nimport { go } from '../../redux/app-reducer';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nconst ActionNavigator = ({changeInventory,go,id}) => {\r\n\tconst  onChangeMoney = (num) => {\r\n\t\tchangeInventory(CHANGE_MONEY,num)\r\n\t}\r\n\treturn(\r\n\t<Panel id={id}>\r\n        <HeaderUser  go={go}headerName=\"Action Navigator\" backButton=\"base\"/>\r\n        <Group header={<Header mode=\"secondary\">Your actions</Header>}>\r\n            <Div>\r\n\t\t\t\t<Button stretched size=\"l\"  onClick={() => onChangeMoney(-10)}>\r\n                \tBuilding\r\n\t\t\t\t</Button>\r\n\t\t\t</Div>\r\n            <Div>\r\n\t\t\t\t<Button stretched size=\"l\"  onClick={go} data-to=\"attack\">\r\n                \tAttack\r\n\t\t\t\t</Button>\r\n\t\t\t</Div>\r\n            <Div>\r\n\t\t\t\t<Button stretched size=\"l\" onClick={go} data-to=\"defense\" >\r\n                \tDefense\r\n\t\t\t\t</Button>\r\n\t\t\t</Div>\r\n        </Group> \r\n        \r\n        \r\n\t</Panel>)\r\n};\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n})\r\n\r\nexport default connect(mapStateToProps,{go,changeInventory})(ActionNavigator)\r\n","import React, { useState } from 'react';\r\nimport { Group, Card,CardGrid, RichCell, Avatar } from '@vkontakte/vkui';\r\nimport { Icon24DollarCircleOutline } from '@vkontakte/icons';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nconst AttackFriends = ({friends,go,setActiveUserPage}) => {\r\n\tconst entryFriendsProfile = (e,id) => {\r\n\t\tsetActiveUserPage(id)\r\n\t\tgo(e)\r\n\t}\r\n\t\r\n\tconst friendsGroup\t= friends.map(u =>(\r\n\t\t<RichCell  onClick={(e) => entryFriendsProfile(e,u.id)}\r\n\t\t\tdata-to=\"pageView\"\r\n\t\t\tkey={u.id}\r\n\t\t\tbefore={<Avatar size={48} src={u.photo_200_orig} />}\r\n\t\t\tcaption=\"info\"\r\n\t\t\tafter=\"700 ₽\"\r\n\t\t\t>\r\n\t\t\t\t{u.first_name +\" \"+ u.last_name}\r\n\t\t</RichCell>\r\n\t))\r\n\treturn(\r\n        <Group>\r\n\t\t\t\t\t\t{friendsGroup}\r\n        </Group>\r\n\t)\r\n};\r\n\r\nexport default AttackFriends","import React, { useState } from 'react';\r\nimport { Group, Card,CardGrid } from '@vkontakte/vkui';\r\nimport { Icon24DollarCircleOutline } from '@vkontakte/icons';\r\n\r\nconst AttackOther = ({friends}) => {\r\n    // const cardFriends\t= friends.map(u =><Card>{<img style={{width:\"100%\",height:\"200px\"}} src={u.photo_200_orig}/>}</Card>)\t\r\n\treturn(\r\n        <Group>\r\n            {/* <CardGrid size=\"s\">\r\n                {cardFriends}\r\n            </CardGrid> */}\r\n        </Group>\r\n\t)\r\n};\r\n\r\n\r\nexport default AttackOther","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Panel, PanelHeader, Header, Button, Group, Cell, Div, Avatar,PanelHeaderBack, Tabs, TabsItem, View } from '@vkontakte/vkui';\r\nimport { Icon24DollarCircleOutline } from '@vkontakte/icons';\r\nimport { connect } from 'react-redux';\r\nimport AttackFriends from './AttackFriends';\r\nimport AttackOther from './AttackOther';\r\nimport HeaderUser from '../../../components/Header/HeaderUser';\r\nimport { go } from '../../../redux/app-reducer';\r\nimport { setActiveUserPage } from '../../../redux/user-reducer';\r\n\r\nconst Attack = ({go,id,friends}) => {\r\n\t\r\n\tconst [activeTabs,setActiveTabs] = useState('friends');\r\n\treturn(\r\n\t<Panel id={id}>\r\n        <HeaderUser go={go}  headerName=\"Attack\" backButton=\"actionNavigator\"/>\r\n        <Group header={<Header mode=\"secondary\">Attack</Header>}>\r\n\t\t\t<Tabs>\r\n\t\t\t\t<TabsItem selected={activeTabs === \"friends\"} onClick={() => {\r\n\t\t\t\t\tsetActiveTabs(\"friends\")\r\n\t\t\t\t}}>\r\n\t\t\t\t\tfriends\r\n\t\t\t\t</TabsItem>\r\n\t\t\t\t<TabsItem selected={activeTabs === \"other\"} onClick={() => {\r\n\t\t\t\t\tsetActiveTabs(\"other\")\r\n\t\t\t\t}}>\r\n\t\t\t\t\tother \r\n\t\t\t\t</TabsItem>\r\n\t\t\t</Tabs>\r\n\t\t\t{activeTabs === \"friends\" && <AttackFriends go={go} friends={friends} setActiveUserPage={setActiveUserPage}/> }\r\n\t\t\t{activeTabs === \"other\" && <AttackOther/>}\r\n        </Group> \r\n        \r\n        \r\n\t</Panel>)\r\n};\r\n\r\nlet mapStateToProps = (state) => ({\r\n\tfriends:state.usersInfo.friends,\r\n})\r\nexport default connect(mapStateToProps,{go,setActiveUserPage})(Attack)","import React from 'react';\r\nimport { Panel, PanelHeader, Header, Button, Group, Cell, Div, Avatar,PanelHeaderBack, CardGrid, Card } from '@vkontakte/vkui';\r\nimport { Icon24DollarCircleOutline } from '@vkontakte/icons';\r\nimport HeaderUser from '../components/Header/HeaderUser';\r\nconst DescriptionCreator = (create) => {\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n    return ({id,go}) => (\r\n\t\t<Panel id={id}>\t\t\r\n\t\t\t<HeaderUser go={go}  headerName={create.what} backButton=\"inventory\"/>\r\n\r\n\t\t\t\t<Group header={<Header mode=\"secondary\">decription</Header>}>\r\n                    <Div>\r\n                    {create.desc}\r\n                    </Div>\r\n\t\t\t\t\t\r\n\t\t\t\t</Group>\r\n\t\t\t</Panel>\r\n\t\t)\r\n}\r\n\r\n\r\n\r\nexport default DescriptionCreator","import { firebaseAPI, DB_USER_MONEY,DB_USER_ROCKET,DB_USER_HOUSE,DB_USER_PEOPLE,DB_USER_FOOD  } from \"../api/api\";\r\nimport { CHANGE_MONEY,CHANGE_HOUSE,CHANGE_PEOPLE,CHANGE_ROCKET } from './inventory-reducer';\r\nimport {changeInventory,setInventory} from \"./inventory-reducer\"\r\nimport { getUserId, setUnseenInfo } from \"./user-reducer\";\r\nimport {MODAL_PAGE_DEFENSE_INFO,modalGo} from \"./app-reducer\";\r\n\r\nconst SET_INIT_SUCCESS = \"AUTH/SET_INIT_SUCCESS\"\r\nconst SET_ACCESS_TOKEN = \"AUTH/SET_ACCESS_TOKEN\"\r\nexport const INIT_DATE = {\r\n    money:1000,\r\n    house:2,\r\n    people:5,\r\n    rocket:5,\r\n    food:100,\r\n}\r\nlet init = {\r\n    init:false,\r\n    accessToken:null,\r\n};\r\n\r\nexport const authReducer = (state = init, action) => {\r\n    switch (action.type) {\r\n        case SET_INIT_SUCCESS:\r\n            return{\r\n                ...state,\r\n                init:true,\r\n            }\r\n        case SET_ACCESS_TOKEN:\r\n            return{\r\n                ...state,\r\n                accessToken:action.token,\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n};\r\n\r\n\r\nexport const setInitSuccess = (func = null) => {\r\n    return {\r\n      type:SET_INIT_SUCCESS,\r\n    };\r\n};\r\nexport const setAccessToken = (token) => {\r\n    return {\r\n      type:SET_ACCESS_TOKEN,\r\n      token,\r\n    };\r\n};\r\n\r\nexport const  getDbInventory =  (userId) => async (dispatch) =>  {\r\n    await firebaseAPI.getUserInventory(userId).then((snapshot) => { \r\n        let val = snapshot.val() \r\n        if (!val){\r\n            dispatch(setInventory(INIT_DATE))\r\n            return\r\n        } \r\n\r\n        Object.keys(INIT_DATE).forEach(key => {\r\n            if((key in val) == false){\r\n                val[key] = INIT_DATE[key]\r\n            }\r\n                \r\n        })\r\n        dispatch(setInventory(val))\r\n        return\r\n    })\r\n};\r\nexport const  setDbInventory =  (userId,inventory) => async (dispatch) =>  {\r\n    await firebaseAPI.updateFullUser(userId,{\r\n        [DB_USER_MONEY]:inventory.money,\r\n        [DB_USER_ROCKET]:inventory.rocket,\r\n        [DB_USER_HOUSE]:inventory.house,\r\n        [DB_USER_PEOPLE]:inventory.people,\r\n        [DB_USER_FOOD]:inventory.food,\r\n    })\r\n};\r\n\r\n\r\nexport const  getBdUnseenInfo =  (userId) => async (dispatch) =>  {\r\n    await firebaseAPI.getUnseenInfo(userId).then((snapshot) => { \r\n        let val = snapshot.val() \r\n        if (!val){\r\n            console.log(\"уведомлений нет\")\r\n            dispatch(setUnseenInfo(null))\r\n            return\r\n        } \r\n        dispatch(setUnseenInfo(val))\r\n        if(val.defend){\r\n            dispatch(modalGo(MODAL_PAGE_DEFENSE_INFO))\r\n        }\r\n        return\r\n    })\r\n};\r\n\r\nexport const  listensFunc =  (val) => async (dispatch) =>  {\r\n    dispatch(setInventory(val.inventory))\r\n    dispatch(setUnseenInfo(val.unseenInfo || null))\r\n    if(val.unseenInfo){\r\n        dispatch(modalGo(MODAL_PAGE_DEFENSE_INFO))\r\n    }\r\n};","import { firebaseAPI,DB_TIMER_START, DB_TIMER_TIME } from '../api/api';\r\n\r\nasync function TimerCreator({user,name,time,repeat,consoleView},func) {\r\n    let _time = time\r\n    let oneTimer = true\r\n    let entry = null\r\n    let diff = 0\r\n    const GetServerTime =   async () => {\r\n        await firebaseAPI.getServerTime().on('value', function(offset) {\r\n            const offsetVal = offset.val() || 0;\r\n            entry = Date.now() + offsetVal;\r\n        });\r\n    }\r\n\r\n    GetServerTime()\r\n    const CreateTimerBD =  async () => {\r\n        _time = time\r\n        await GetServerTime()\r\n        firebaseAPI.updateTimerDB(user.id,name,DB_TIMER_START,entry) \r\n        firebaseAPI.updateTimerDB(user.id,name,DB_TIMER_TIME,time)\r\n        TimerFunc() \r\n    }\r\n    const TimerFunc = async () => {\r\n            GetServerTime()\r\n            _time = time - diff   \r\n            let timer = setInterval(() => {\r\n                _time -= 1000\r\n                // console.log(\"Осталось: \"+ _time/1000 + \"сек\")\r\n                if(_time <= 0){\r\n                    func() \r\n                    if (!repeat){\r\n                        clearInterval(timer);\r\n                    }\r\n                    else{\r\n                        diff = 0\r\n                        clearInterval(timer);\r\n                        CreateTimerBD()\r\n                    }\r\n                       \r\n                }\r\n            },1000)\r\n    }    \r\n   \r\n    if (!oneTimer) return\r\n    oneTimer = false\r\n\r\n        await firebaseAPI.getTimerDB(user.id).then((snapshot) => { \r\n            let val = snapshot.val()\r\n\r\n            if(!val || !val[name]){\r\n                CreateTimerBD()\r\n                return \r\n            }  \r\n           \r\n            \r\n            \r\n            \r\n            if (val[name].startTimer + val[name].timerTime <= entry){\r\n                func()\r\n                diff = - (val[name].startTimer + val[name].timerTime - entry)\r\n                if (!repeat) return\r\n                while (diff > time){\r\n                    func()\r\n                    diff -= time\r\n                }\r\n                    CreateTimerBD()\r\n            }\r\n            else{\r\n                diff = time - (val[name].startTimer + val[name].timerTime - entry)\r\n                TimerFunc()\r\n            }\r\n        })\r\n    return \r\n    \r\n}\r\n\r\nexport default TimerCreator","import { DB_USER_ROCKET, firebaseAPI } from \"../api/api\"\r\nimport { CHANGE_ROCKET } from \"../redux/inventory-reducer\"\r\n\r\nexport const launchRocket = async ({countRocket,userIdTarget,inventoryTarget,attackingUser,changeInventory}) => {\r\n    let startCountRocket = countRocket\r\n    let _countRocket = countRocket\r\n    let sendInfoDefend = {}\r\n    sendInfoDefend.Rocket = 0\r\n    sendInfoDefend.house = 0\r\n    sendInfoDefend.people = 0\r\n    if (_countRocket <= 0) return\r\n    changeInventory(CHANGE_ROCKET,-_countRocket)\r\n\r\n    await firebaseAPI.getUnseenInfo(userIdTarget).then((snapshot) => { \r\n        let val = snapshot.val() \r\n        if (!val) return\r\n        \r\n        Object.keys(val.defend).map(id => {\r\n            if(Number(id) == attackingUser){\r\n                sendInfoDefend.Rocket += Number(val.defend[attackingUser].attack) \r\n                startCountRocket += Number(val.defend[attackingUser].attack) \r\n                sendInfoDefend.house += val.defend[attackingUser].destroyed.house || 0\r\n                sendInfoDefend.people += val.defend[attackingUser].destroyed.people || 0\r\n                return\r\n            }\r\n            \r\n        })\r\n        \r\n    })\r\n    \r\n    // target protection\r\n    while (inventoryTarget.Rocket > 0 && _countRocket  > 0){\r\n        inventoryTarget.Rocket -= 1\r\n        sendInfoDefend.Rocket += 1\r\n        _countRocket -= 1\r\n    }\r\n    // after target protection\r\n    while (_countRocket  > 0){\r\n        inventoryTarget.house -= 1\r\n        inventoryTarget.people -= 4\r\n        sendInfoDefend.house += 1\r\n        sendInfoDefend.people += 4\r\n        _countRocket -= 1\r\n    }  \r\n    console.log(sendInfoDefend)\r\n    if (sendInfoDefend.house == 0){\r\n        delete sendInfoDefend.house\r\n    }\r\n    if (sendInfoDefend.people == 0){\r\n        delete sendInfoDefend.people\r\n    }\r\n    if (sendInfoDefend.Rocket == 0){\r\n        delete sendInfoDefend.Rocket\r\n    }\r\n    firebaseAPI.updateFullUser(userIdTarget,inventoryTarget)\r\n    firebaseAPI.updateUnseenDefendInfo({userId:userIdTarget,attackingUser:attackingUser,sendInfoDefend:sendInfoDefend,rocketAttack:startCountRocket})\r\n\r\n}\r\n\r\n","import { Button, Counter, Div, FormItem, Group, Input, Slider } from '@vkontakte/vkui';\r\nimport React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { launchRocket } from '../../../actionCalculation/launchRocket';\r\nimport { changeInventory } from '../../../redux/inventory-reducer';\r\nimport { setActiveUserPage } from '../../../redux/user-reducer';\r\nconst AttackUserPage = ({activeUserPage,rocket,inventoryProfile,changeInventory,user}) => {\r\n    const [rocketSend,setRocketSend] = useState(1)\r\n    const rocketSendUpdate = (num) => {\r\n        setRocketSend(rocketSend+num)\r\n    }\r\n    const rocketRange = (value) => {\r\n        if(value > rocket){\r\n            setRocketSend(rocket)\r\n            return\r\n        }\r\n        setRocketSend(Number(value))\r\n    }\r\n    const _launchRocket = () => {\r\n        launchRocket(\r\n            {\r\n            countRocket:rocketSend,\r\n            userIdTarget:activeUserPage,\r\n            inventoryTarget:inventoryProfile,\r\n            attackingUser:user.id,\r\n            changeInventory:changeInventory})\r\n    }\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n    return(\r\n        <>\r\n        {(rocket > 0) ?\r\n             \r\n            <Group>\r\n                <Div>\r\n                    <FormItem>\r\n\r\n                        <Input value={rocketSend} min=\"0\" max={rocket} type=\"number\" onChange={e => rocketRange(e.target.value)} />\r\n                       \r\n                    </FormItem>\r\n                    \r\n                    <FormItem>\r\n                        <Slider\r\n                            min={0}\r\n                            step={1}\r\n                            max={rocket}\r\n                            value={rocketSend}\r\n                            onChange={value => rocketRange(value)}\r\n                        />\r\n                    </FormItem>\r\n                </Div>\r\n                <Div>\r\n                    <Button onClick={_launchRocket} mode=\"commerce\" size=\"l\" after={<Counter>{rocketSend}</Counter>}>Attack</Button>\r\n                </Div>\r\n            </Group> : <span>\"You don't have rockets\"</span>}\r\n        </>\r\n    )\r\n}\r\nconst mapStateToProps  = (state) => ({\r\n    rocket:state.myInventory.rocket,\r\n\tactiveUserPage:state.usersInfo.activeUserPage,\r\n\tfriends:state.usersInfo.friends,\r\n    user:state.usersInfo.user,\r\n})\r\nexport default connect(mapStateToProps,{setActiveUserPage,changeInventory})(AttackUserPage)\r\n// export default AttackUserPage;","import React from 'react';\r\nimport { Panel, PanelHeader, Header, Button, Group, Cell, Div, Avatar,PanelHeaderBack, InfoRow, SimpleCell, Card, CardGrid, Link } from '@vkontakte/vkui';\r\nimport { Icon24DollarCircleOutline } from '@vkontakte/icons';\r\nimport { connect } from 'react-redux';\r\nimport {changeInventory} from \"../../redux/inventory-reducer\"\r\nimport {setFriends} from \"../../redux/user-reducer\"\r\nimport {setUser} from \"../../redux/user-reducer\"\r\nconst HeaderOther = ({go,backButton,headerName,money,friends,activeUserPage}) =>{\r\n    const userPageInfo = friends.find(user => user.id === activeUserPage)\r\n    return(\r\n            <>\r\n            {backButton ? \r\n            <PanelHeader\r\n                left={<PanelHeaderBack onClick={go} data-to={backButton}/>}\r\n            >\r\n                {headerName}\r\n            </PanelHeader>\r\n            :\r\n            <PanelHeader>\r\n                {headerName}\r\n            </PanelHeader>\r\n            }\r\n        \r\n            {userPageInfo &&\r\n            <Group header={<Header mode=\"secondary\">Profile</Header>}>\r\n                <Cell \r\n                    before={userPageInfo.photo_200_orig ? <Avatar src={userPageInfo.photo_200_orig}/> : null}\r\n                    description={userPageInfo.city && userPageInfo.city.title ? userPageInfo.city.title : ''}\r\n                    after={<div style={{display:'flex',alignItems:'center',color:'black'}}>{money}<Icon24DollarCircleOutline width={30} height={30}/></div>}\r\n                >\r\n                    {`${userPageInfo.first_name} ${userPageInfo.last_name}`}\r\n                </Cell>\r\n            </Group>}\r\n            </>\r\n        )\r\n} \r\n\r\nlet mapStateToProps = (state) => ({\r\n    activeUserPage:state.usersInfo.activeUserPage,\r\n\tfriends:state.usersInfo.friends,\r\n})\r\n\r\nexport default connect(mapStateToProps)(HeaderOther)","export default __webpack_public_path__ + \"static/media/moneyBackground.7e4765dd.jpg\";","export default __webpack_public_path__ + \"static/media/workerBackground.fb289e7f.jpg\";","import { Group, Header, Panel, ScreenSpinner, Tabs, TabsItem,CardGrid,Card } from '@vkontakte/vkui';\r\nimport React, { useState } from 'react';\r\nimport { Icon24DollarCircleOutline } from '@vkontakte/icons';\r\nimport { Icon44SmileOutline } from '@vkontakte/icons';\r\nimport { Icon24HomeOutline } from '@vkontakte/icons';\r\nimport { Icon24SendOutline } from '@vkontakte/icons';\r\nimport { Icon28MortarOutline } from '@vkontakte/icons';\r\nimport MoneyBackground from \"../../assets/images/moneyBackground.jpg\"\r\nimport WorkerBackground from \"../../assets/images/workerBackground.jpg\"\r\nimport styles from './PageView.module.css';\r\nimport { PICTURE_NAME } from '../Inventory';\r\n// import { setActiveUserPage } from '../../redux/user-reducer';\r\n// import AttackUserPage from '../Action/Attack/AttackUserPage';\r\n\r\nconst CheckUserInfo = ({go,inventoryProfile}) => {\t\r\n    const [popout, setPopout] = useState(<ScreenSpinner size='large' />);\r\n    const ImgSize = {\r\n        width:30,\r\n        height:30,\r\n    }\r\n    const BackgroundName = {\r\n        money:MoneyBackground,\r\n        people:WorkerBackground,\r\n        house:null,\r\n        roket:null,\r\n        food:null,\r\n    }\r\n    const inv = Object.keys(inventoryProfile).map(key =>{\r\n        const Pic = PICTURE_NAME[key]\r\n        return(\r\n            // \r\n                <Card key={key} className={styles.card}>\r\n                {BackgroundName[key] ? <img src={BackgroundName[key]} alt={\"logo\"}/> : null  } \r\n                <span>{inventoryProfile[key]}<Pic width={ImgSize.width} height={ImgSize.height}/></span>\r\n                     \r\n                </Card>\r\n        )    \r\n    })\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n    return(\r\n        <Group>\r\n            <CardGrid size=\"s\">\r\n            {inv  || <ScreenSpinner size='large' />}\r\n            </CardGrid>\r\n        </Group>\r\n    )\r\n}\r\nexport default CheckUserInfo","import { Group, Header, Panel, ScreenSpinner, Tabs, TabsItem } from '@vkontakte/vkui';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport HeaderOther from '../../components/Header/HeaderOther';\r\nimport { INIT_DATE } from '../../redux/auth-reducer';\r\nimport { firebaseAPI } from '../../api/api';\r\nimport AttackUserPage from '../Action/Attack/AttackUserPage';\r\nimport CheckUserInfo from './CheckUserInfo';\r\nimport { go } from '../../redux/app-reducer';\r\nconst PageView = ({ id, go,activeUserPage}) => {\r\n    const [activeTabs,setActiveTabs] = useState('check');\t\r\n    const [UserInfo,setUserInfo] = useState(INIT_DATE);\r\n    \r\n    useEffect(() => {\r\n        const getUser = async () => {\r\n            await firebaseAPI.getUserInventory(activeUserPage).then((snapshot) => { \r\n                const val = snapshot.val()\r\n                if (val == null){\r\n                    firebaseAPI.updateFullUser(activeUserPage,INIT_DATE)\r\n                    setUserInfo(INIT_DATE)\r\n                }\r\n                else{\r\n                    setUserInfo(val)\r\n                }\r\n                \r\n            })\t\r\n            \r\n        }\r\n        getUser()\r\n    },[])\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n    return(\r\n        <Panel id={id}>\r\n            {UserInfo ? \r\n            <>\r\n            <HeaderOther go={go} headerName=\"Profile\" backButton=\"base\" money={UserInfo.money}/>\r\n                <Group header={<Header mode=\"secondary\">Action</Header>}>\r\n                    <Tabs>\r\n                        <TabsItem selected={activeTabs === \"check\"} onClick={() => {\r\n                            setActiveTabs(\"check\")\r\n                        }}>\r\n                            check\r\n                        </TabsItem>\r\n                        <TabsItem selected={activeTabs === \"attack\"} onClick={() => {\r\n                            setActiveTabs(\"attack\")\r\n                        }}>\r\n                            attack \r\n                        </TabsItem>\r\n                    </Tabs>\r\n                    {activeTabs === \"check\" && <CheckUserInfo  inventoryProfile={UserInfo} go={go}/> }\r\n                    {activeTabs === \"attack\" && <AttackUserPage inventoryProfile={UserInfo}/>}\r\n                </Group> \r\n            </>\r\n             : <ScreenSpinner size='large' />}\r\n            \r\n        </Panel>\r\n    )\r\n}\r\nconst mapStateToProps  = (state) => ({\r\n\tactiveUserPage:state.usersInfo.activeUserPage,\r\n})\r\nexport default connect(mapStateToProps,{go})(PageView)","import { Group, Header, ModalPage,ModalCard ,Div, Panel, PanelHeader, Button,Cell,Avatar,PanelHeaderBack, InfoRow, SimpleCell, Card, CardGrid, Link, HorizontalCell, HorizontalScroll} from \"@vkontakte/vkui\"\r\nimport { connect } from \"react-redux\"\r\nimport { Icon24DollarCircleOutline } from '@vkontakte/icons';\r\nimport { Icon44SmileOutline } from '@vkontakte/icons';\r\nimport { Icon24HomeOutline } from '@vkontakte/icons';\r\nimport { Icon24SendOutline } from '@vkontakte/icons';\r\nimport { Icon28MortarOutline } from '@vkontakte/icons';\r\nimport { PICTURE_NAME } from \"../../panels/Inventory\";\r\n\r\nconst ModalDefenseInfo = ({ id,unseen,friends}) => {\r\n    if(!unseen){\r\n        return <ModalCard  id={id}></ModalCard>\r\n    }\r\n    // unseen.defend длина \r\n    // атака 1 из длина\r\n    const attackUser =  Object.keys(unseen.defend).map(id => {\r\n        const time = Number(unseen.defend[id].timeAttack)\r\n        const timeAttack = new Date(time).toLocaleString('en-GB', { timeZone: 'UTC' });\r\n        const attackRocket = Number(unseen.defend[id].attack) \r\n        const destroyed = unseen.defend[id].destroyed \r\n        const userPageInfo = friends.find(user => user.id == id)\r\n        const inv = Object.keys(destroyed).map(key =>{\r\n            const Pic = PICTURE_NAME[key]\r\n            return(\r\n                <HorizontalCell key={key} size='s' header={<div style={{textAlign:\"center\"}}>{destroyed[key]}</div>}>\r\n                    <Pic width={25} height={25}/>\r\n                </HorizontalCell>\r\n            )    \r\n        })\r\n        return(\r\n            <Group key={id} header={<Header mode=\"secondary\">User info</Header>}>\r\n                <Cell \r\n                    before={userPageInfo?.photo_200_orig ? <Avatar src={userPageInfo.photo_200_orig}/> : null}\r\n                    description={userPageInfo.city && userPageInfo.city.title ? userPageInfo.city.title : ''}\r\n                    after={<div style={{display:'flex',alignItems:'center',color:'black'}}>{attackRocket}<Icon24SendOutline width={20} height={20}/></div>}\r\n                    description={\"последнее нападение: \"+ timeAttack}\r\n                >\r\n                    {`${userPageInfo.first_name} ${userPageInfo.last_name}`}\r\n                </Cell>\r\n                <Header mode=\"secondary\">Destroied</Header>\r\n                <HorizontalScroll>\r\n                    <div style={{display: 'flex',justifyContent:\"space-between\"}}>\r\n                    {inv}\r\n                    </div>\r\n                </HorizontalScroll>\r\n            </Group>\r\n        )\r\n    })\r\n     \r\n    \r\n    \r\n    \r\n    return(\r\n        <ModalCard id={id} header={\"Defend info\"}>\r\n                {attackUser}\r\n            \r\n        </ModalCard>\r\n    )\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n    unseen:state.usersInfo.unseen,\r\n    friends:state.usersInfo.friends,\r\n    inventory:state.myInventory\r\n})\r\nexport default connect(mapStateToProps,{})(ModalDefenseInfo)","import React, { useState } from 'react';\r\nimport { Group, Card,CardGrid } from '@vkontakte/vkui';\r\nimport { Icon24DollarCircleOutline } from '@vkontakte/icons';\r\n\r\nconst DefenseHistory = ({friends}) => {\r\n\t// const cardFriends\t= friends.map(u =><Card>{<img style={{width:\"100%\",height:\"200px\"}} src={u.photo_200_orig}/>}</Card>)\t\r\n\treturn(\r\n        <Group>\r\n            <Group>\r\n                nothing\r\n\t\t\t\t</Group>\r\n        </Group>\r\n\t)\r\n};\r\n\r\n\r\nexport default DefenseHistory","import React, { useState } from 'react';\r\nimport { Group, Card,CardGrid,Header,SimpleCell,Switch} from '@vkontakte/vkui';\r\nimport { Icon24DollarCircleOutline } from '@vkontakte/icons';\r\n\r\nconst DefenseSettings = ({friends}) => {\r\n\t// const cardFriends\t= friends.map(u =><Card>{<img style={{width:\"100%\",height:\"200px\"}} src={u.photo_200_orig}/>}</Card>)\t\r\n\treturn(\r\n        <Group>\r\n            <Header mode=\"secondary\">Settings</Header>\r\n              <SimpleCell disabled after={<Switch defaultChecked />}>Use rockets for defense</SimpleCell>\r\n              <SimpleCell disabled after={<Switch />}>...</SimpleCell>\r\n        </Group>\r\n\t)\r\n};\r\n\r\n\r\nexport default DefenseSettings","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Panel, PanelHeader, Header, Button, Group, Cell, Div, Avatar,PanelHeaderBack, Tabs, TabsItem, View } from '@vkontakte/vkui';\r\nimport { Icon24DollarCircleOutline } from '@vkontakte/icons';\r\nimport { connect } from 'react-redux';\r\nimport DefenseHistory from './DefenseHistory';\r\nimport DefenseSettings from './DefenseSettings';\r\nimport { go } from '../../../redux/app-reducer';\r\nimport HeaderUser from '../../../components/Header/HeaderUser';\r\n// import AttackFriends from './AttackFriends';\r\n// import AttackOther from './AttackOther';\r\n\r\n\r\nconst Defense = ({go,id,friends}) => {\r\n\tconst [activeTabs,setActiveTabs] = useState('settings');\r\n\treturn(\r\n\t<Panel id={id}>\r\n        <HeaderUser go={go}  headerName=\"Defense\" backButton=\"actionNavigator\" />\r\n        <Group header={<Header mode=\"secondary\">Defense</Header>}>\r\n\t\t\t<Tabs>\r\n\t\t\t\t<TabsItem selected={activeTabs === \"settings\"} onClick={() => {\r\n\t\t\t\t\tsetActiveTabs(\"settings\")\r\n\t\t\t\t}}>\r\n\t\t\t\t\tsettings \r\n\t\t\t\t</TabsItem>\r\n\t\t\t\t<TabsItem selected={activeTabs === \"history\"} onClick={() => {\r\n\t\t\t\t\tsetActiveTabs(\"history\")\r\n\t\t\t\t}}>\r\n\t\t\t\t\thistory \r\n\t\t\t\t</TabsItem>\r\n\t\t\t</Tabs>\r\n\t\t\t{activeTabs === \"settings\" && <DefenseSettings   friends={friends}/>}\r\n\t\t\t{activeTabs === \"history\" && <DefenseHistory friends={friends}/>}\r\n        </Group> \r\n        \r\n\t</Panel>)\r\n};\r\n\r\nlet mapStateToProps = (state) => ({\r\n    friends:state.usersInfo.friends,\r\n})\r\nexport default connect(mapStateToProps,{go})(Defense)","import React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport { View, ScreenSpinner, AdaptivityProvider, AppRoot, ModalRoot, ModalCard, Button, Gradient, PanelHeaderButton, PanelHeaderClose, SimpleCell, ModalPage, ModalPageHeader, Title, Group, Header } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport { connect } from \"react-redux\";\nimport {changeInventory, CHANGE_MONEY,CHANGE_ROCKET, setInventory} from \"./redux/inventory-reducer\"\nimport {setFriends} from \"./redux/user-reducer\"\nimport {setUser} from \"./redux/user-reducer\"\n\n\n//descriprion\nimport { HOUSE_DESCRIPTION, MONEY_DESCRIPTION, PEOPLE_DESCRIPTION, ROCKET_DESCRIPTION,FOOD_DESCRIPTION } from './text/Description';\n\nimport Home from './panels/Home';\nimport Persik from './panels/Persik';\nimport Base from './panels/Base';\nimport Inventory from './panels/Inventory';\nimport Friends from './panels/Friends';\nimport ActionNavigator from './panels/Action/ActionNavigator';\nimport Attack from './panels/Action/Attack/Attack';\nimport DescriptionCreator from './creator/DescriptionCreator';\nimport { firebaseAPI } from './api/api';\nimport { getDbInventory, setAccessToken, setInitSuccess,setDbInventory, getBdUnseenInfo, listensFunc } from './redux/auth-reducer';\nimport firebase from './index';\nimport TimerCreator from './creator/TimerCreator';\nimport AttackUserPage from './panels/Action/Attack/AttackUserPage';\nimport PageView from './panels/PageView/PageView';\nimport { go, modalGo, MODAL_PAGE_DEFENSE_INFO} from './redux/app-reducer';\nimport { Icon56NotificationOutline } from '@vkontakte/icons';\nimport ModalDefenseInfo from './components/modalWindow/modalDefenseInfo'\nimport Defense from './panels/Action/Defense/Defense';\n\nconst APP_ID = 7903112;\n\nconst App = (props) => {\n\tconst [giveGold, setGiveGold] = useState(null);\n\tconst [popout, setPopout] = useState(<ScreenSpinner size='large' />);\n\tconst modal = (\n\t\t<ModalRoot  activeModal={props.activeModal} onClose={() => {props.modalGo(null,props.user.id)}}>\n\t\t\t<ModalDefenseInfo  id={MODAL_PAGE_DEFENSE_INFO} />\n\t\t</ModalRoot>\n\t  );\n\n\tuseEffect(() => {\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t}\n\t\t});\n\t\tasync function fetchData() {\n\t\t\t//user\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\n\t\t\tprops.setUser(user)\n\n\t\t\t//access_token\n\t\t\tconst userInfo = await bridge.send(\"VKWebAppGetAuthToken\", {\"app_id\": APP_ID, \"scope\": \"friends,status\"});\n\t\t\tprops.setAccessToken(userInfo.access_token)\n\n\t\t\t//User friends\n\t\t\tconst userFriends = await bridge.send(\"VKWebAppCallAPIMethod\", {\"method\": \"friends.get\", \"params\": {\"fields\":\"nickname,photo_200_orig\",\"v\":\"5.131\", \"access_token\":userInfo.access_token,}});\n\t\t\tprops.setFriends(userFriends.response.items)\n\t\t\t\n\t\t\tawait props.getDbInventory(user.id)\n\n\t\t\tawait props.getBdUnseenInfo(user.id)\n\n\t\t\tprops.setInitSuccess()\n\t\t\tsetPopout(null);\n\t\t\t\n\t\t}\n\t\tfetchData();\n\t\t\n\t\t\n\t\t\n\t}, []);\n\t\n\tuseEffect(() => {\n\t\tif (!props.init) return\n\t\tasync function initTimer() {\n\t\t\tsetGiveGold(TimerCreator({\"name\":\"increaseMoney\",\"time\":1*20*1000,\"user\":props.user,\"repeat\":true},() => {\n\t\t\t\tprops.changeInventory(CHANGE_MONEY,+10)\n\t\t\t}))\n\t\t}\n\t\tinitTimer()\n\t\tfirebaseAPI.listenUpdateUser(props.user.id,props.listensFunc)\n\n\t\t\n\t},[props.init])\n\n\tuseEffect(() => {\n\t\tif (props.init){\n\t\t\tprops.setDbInventory(props.user.id,props.inventory)\n\t\t}\n\t})\n\n\t\n\t\n\t//DescriptionCreator creates group with description\n\tconst DescriptionPanels = {\n\t\tMoneyDesc\t:DescriptionCreator({what:\"Money\",desc:MONEY_DESCRIPTION}),\n\t\tPeopleDesc\t:DescriptionCreator({what:\"People\",desc:PEOPLE_DESCRIPTION}),\n\t\tHouseDesc\t:DescriptionCreator({what:\"House\",desc:HOUSE_DESCRIPTION}),\n\t\trocketDesc\t:DescriptionCreator({what:\"rocket\",desc:ROCKET_DESCRIPTION}),\n\t\tFoodDesc\t:DescriptionCreator({what:\"Food\",desc:FOOD_DESCRIPTION}),\n\t}\n\tconst DescPanelsBlocks = Object.keys(DescriptionPanels).map(key => {\n\t\tconst DescPanel = DescriptionPanels[key];\n\t\tconst name = String(key)\n\t\tconst id = name.charAt(0).toLowerCase() + name.slice(1);\n\t\treturn(\n\t\t\t<DescPanel key={id}  id={id}  go={props.go}/>\n\t\t)\t\n\t})\n\treturn (\n\t\t<AdaptivityProvider>\n\t\t\t<AppRoot>\n\t\t\t\t<View activePanel={props.activePanel} popout={popout} modal={modal}>\n\t\t\t\t\t<Home id='home'  />\n\t\t\t\t\t<Base id='base'/>\n\t\t\t\t\t<Inventory id='inventory'/>\n\t\t\t\t\t<Friends id='friends'/>\n\n\t\t\t\t\t{/* Action Navigator */}\n\t\t\t\t\t<ActionNavigator id='actionNavigator'/>\n\t\t\t\t\t<Attack id='attack' />\n\t\t\t\t\t<Defense id='defense' />\n\t\t\t\t\t<PageView id='pageView'/>\n\t\t\t\t\t\n\t\t\t\t\t{/* Descriprion */}\n\t\t\t\t\t{DescPanelsBlocks}\n\t\t\t\t</View>\n\t\t\t</AppRoot>\n\t\t</AdaptivityProvider>\n\t);\n}\n\nlet mapStateToProps = (state) => ({\n\tinventory:state.myInventory,\n\tuser:state.usersInfo.user,\n\tinit:state.auth.init,\n\tactivePanel:state.appPage.activePanel,\n\tactiveModal:state.appPage.activeModal,\n\tunseen:state.usersInfo.unseen,\n})\n\nexport default connect(mapStateToProps,{setDbInventory,changeInventory,setFriends,setUser,setInitSuccess,getDbInventory,setAccessToken,go,setInventory,modalGo,getBdUnseenInfo,listensFunc})(App)\n","export const  MONEY_DESCRIPTION = \"Плоти нологи\"\r\nexport const  PEOPLE_DESCRIPTION = \"Чисто рабы (не бань ТВИЧ)\"\r\nexport const  HOUSE_DESCRIPTION = \"Нужно же где-то жить\"\r\nexport const  ROCKET_DESCRIPTION = \"БАМ БУХ БУДУМ\"\r\nexport const  FOOD_DESCRIPTION = \"Хавать вкусно\"\r\n\r\n","import { firebaseAPI, DB_USER_MONEY,DB_USER_ROCKET,DB_USER_HOUSE,DB_USER_PEOPLE,DB_USER_FOOD  } from \"../api/api\";\r\nconst SET_ENTRY= \"TIME/SET_ENTRY\"\r\nconst SET_OLD_ENTRY= \"TIMESET_OLD_ENTRY\"\r\nconst SET_TIMER= \"TIME/SET_TIMER\"\r\n\r\nlet init = {\r\n    entry:null,\r\n    oldEntry:null,\r\n    timer:null,\r\n    startTimer:null,\r\n};\r\n\r\nexport const timeReducer = (state = init, action) => {\r\n    switch (action.type) {\r\n        case SET_ENTRY:\r\n            return{\r\n                ...state,\r\n                entry:action.time\r\n            }\r\n        case SET_OLD_ENTRY:\r\n            return{\r\n                ...state,\r\n                oldEntry:action.time\r\n            }\r\n        case SET_TIMER:\r\n            return{\r\n                ...state,\r\n                timer:action.time\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n};\r\nexport const setEntry = (time) => {\r\n    return {\r\n        type:SET_ENTRY,\r\n        time,\r\n    };\r\n};\r\nexport const setOldEntry = (time) => {\r\n    return {\r\n        type:SET_OLD_ENTRY,\r\n        time,\r\n    };\r\n};\r\nexport const setTimer = (time) => {\r\n    return {\r\n        type:SET_TIMER,\r\n        time,\r\n    };\r\n};\r\nexport const getServerTime = () => async (dispatch) => {\r\n    let serverTime = 0\r\n    await firebaseAPI.getServerTime().on('value', function(offset) {\r\n        const offsetVal = offset.val() || 0;\r\n        serverTime = Date.now() + offsetVal;\r\n        dispatch(setEntry(serverTime))\r\n    });\r\n    \r\n    // dispatch(setBDEntryTime(serverTime))\r\n};\r\n\r\nexport const getBDTimeUser = (user) => async (dispatch) => {\r\n    await firebaseAPI.getTimeUserBD(user.id).then((snapshot) => {\r\n        let val = snapshot.val() \r\n        if(!val) return\r\n\r\n        dispatch(setOldEntry(val.entry))\r\n        \r\n    })\r\n    \r\n};\r\n","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport { inventoryReducer } from \"./inventory-reducer\";\r\nimport { userReducer } from \"./user-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport { authReducer } from \"./auth-reducer\";\r\nimport { timeReducer } from \"./time-reducer\";\r\nimport { appReducer } from \"./app-reducer\";\r\nlet reducers = combineReducers({\r\n    myInventory:inventoryReducer,\r\n    usersInfo:userReducer,\r\n    auth:authReducer,\r\n    time:timeReducer,\r\n    appPage:appReducer,\r\n})\r\n\r\nlet store = createStore(reducers,applyMiddleware(thunkMiddleware));\r\n\r\nexport default store","import React, { createContext } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\nimport store from \"./redux/redux-store\";\nimport { Provider } from \"react-redux\";\nimport firebase from 'firebase';\nimport \"firebase/database\";\n\n\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n\n// Initialize Firebase\nfirebase.initializeApp({\n  apiKey: \"AIzaSyAaCTI89WAScNMKK-5pzGmt5qcnF50U6aM\",\n  authDomain: \"users-f9e77.firebaseapp.com\",\n  projectId: \"users-f9e77\",\n  storageBucket: \"users-f9e77.appspot.com\",\n  messagingSenderId: \"730375624460\",\n  appId: \"1:730375624460:web:e07c070bceaf98b8091b29\",\n  measurementId: \"G-HR2BM8955Q\"\n});\nfirebase.analytics();\nexport default firebase\n\n\n\n\t\t\n\nlet rerenderEntireTree = (state) => {\n  ReactDOM.render(\n    \n    <Provider store={store}>\n      <App/> \n    </Provider>,\n    document.getElementById(\"root\")\n  );\n};\nrerenderEntireTree(store.getState());\nstore.subscribe(() => {\n  let state = store.getState();\n  rerenderEntireTree(state);\n});","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"PageView_card__32kXZ\"};"],"sourceRoot":""}